!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";n.r(e),n.d(e,"templateCaches",function(){return r}),n.d(e,"html",function(){return o}),n.d(e,"svg",function(){return i}),n.d(e,"TemplateResult",function(){return s}),n.d(e,"SVGTemplateResult",function(){return a}),n.d(e,"defaultTemplateFactory",function(){return l}),n.d(e,"render",function(){return u}),n.d(e,"TemplatePart",function(){return v}),n.d(e,"Template",function(){return m}),n.d(e,"getValue",function(){return b}),n.d(e,"directive",function(){return y}),n.d(e,"directiveValue",function(){return _}),n.d(e,"AttributePart",function(){return w}),n.d(e,"NodePart",function(){return T}),n.d(e,"defaultPartCallback",function(){return k}),n.d(e,"TemplateInstance",function(){return N}),n.d(e,"reparentNodes",function(){return O}),n.d(e,"removeNodes",function(){return A});
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const r=new Map,o=(t,...e)=>new s(t,e,"html"),i=(t,...e)=>new a(t,e,"svg");class s{constructor(t,e,n,r=k){this.strings=t,this.values=e,this.type=n,this.partCallback=r}getHTML(){const t=this.strings.length-1;let e="",n=!0;for(let r=0;r<t;r++){const t=this.strings[r];e+=t;const o=p(t);e+=(n=o>-1?o<t.length:n)?d:c}return e+=this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}class a extends s{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,n=e.firstChild;return e.removeChild(n),O(e,n.firstChild),t}}function l(t){let e=r.get(t.type);void 0===e&&(e=new Map,r.set(t.type,e));let n=e.get(t.strings);return void 0===n&&(n=new m(t,t.getTemplateElement()),e.set(t.strings,n)),n}function u(t,e,n=l){const r=n(t);let o=e.__templateInstance;if(void 0!==o&&o.template===r&&o._partCallback===t.partCallback)return void o.update(t.values);o=new N(r,t.partCallback,n),e.__templateInstance=o;const i=o._clone();o.update(t.values),A(e,e.firstChild),e.appendChild(i)}const c=`{{lit-${String(Math.random()).slice(2)}}}`,d=`\x3c!--${c}--\x3e`,h=new RegExp(`${c}|${d}`),f=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function p(t){const e=t.lastIndexOf(">");return t.indexOf("<",e+1)>-1?t.length:e}class v{constructor(t,e,n,r,o){this.type=t,this.index=e,this.name=n,this.rawName=r,this.strings=o}}class m{constructor(t,e){this.parts=[],this.element=e;const n=this.element.content,r=document.createTreeWalker(n,133,null,!1);let o=-1,i=0;const s=[];let a,l;for(;r.nextNode();){o++,a=l;const e=l=r.currentNode;if(1===e.nodeType){if(!e.hasAttributes())continue;const n=e.attributes;let r=0;for(let t=0;t<n.length;t++)n[t].value.indexOf(c)>=0&&r++;for(;r-- >0;){const r=t.strings[i],s=f.exec(r)[1],a=n.getNamedItem(s),l=a.value.split(h);this.parts.push(new v("attribute",o,a.name,s,l)),e.removeAttribute(a.name),i+=l.length-1}}else if(3===e.nodeType){const t=e.nodeValue;if(t.indexOf(c)<0)continue;const n=e.parentNode,r=t.split(h),s=r.length-1;i+=s,e.textContent=r[s];for(let t=0;t<s;t++)n.insertBefore(document.createTextNode(r[t]),e),this.parts.push(new v("node",o++))}else if(8===e.nodeType&&e.nodeValue===c){const t=e.parentNode,n=e.previousSibling;null===n||n!==a||n.nodeType!==Node.TEXT_NODE?t.insertBefore(document.createTextNode(""),e):o--,this.parts.push(new v("node",o++)),s.push(e),null===e.nextSibling?t.insertBefore(document.createTextNode(""),e):o--,l=a,i++}}for(const t of s)t.parentNode.removeChild(t)}}const b=(t,e)=>g(e)?(e=e(t),_):null===e?void 0:e,y=t=>(t.__litDirective=!0,t),g=t=>"function"==typeof t&&!0===t.__litDirective,_={},x=t=>null===t||!("object"==typeof t||"function"==typeof t);class w{constructor(t,e,n,r){this.instance=t,this.element=e,this.name=n,this.strings=r,this.size=r.length-1,this._previousValues=[]}_interpolate(t,e){const n=this.strings,r=n.length-1;let o="";for(let i=0;i<r;i++){o+=n[i];const r=b(this,t[e+i]);if(r&&r!==_&&(Array.isArray(r)||"string"!=typeof r&&r[Symbol.iterator]))for(const t of r)o+=t;else o+=r}return o+n[r]}_equalToPreviousValues(t,e){for(let n=e;n<e+this.size;n++)if(this._previousValues[n]!==t[n]||!x(t[n]))return!1;return!0}setValue(t,e){if(this._equalToPreviousValues(t,e))return;const n=this.strings;let r;2===n.length&&""===n[0]&&""===n[1]?(r=b(this,t[e]),Array.isArray(r)&&(r=r.join(""))):r=this._interpolate(t,e),r!==_&&this.element.setAttribute(this.name,r),this._previousValues=t}}class T{constructor(t,e,n){this.instance=t,this.startNode=e,this.endNode=n,this._previousValue=void 0}setValue(t){if((t=b(this,t))!==_)if(x(t)){if(t===this._previousValue)return;this._setText(t)}else t instanceof s?this._setTemplateResult(t):Array.isArray(t)||t[Symbol.iterator]?this._setIterable(t):t instanceof Node?this._setNode(t):void 0!==t.then?this._setPromise(t):this._setText(t)}_insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}_setNode(t){this._previousValue!==t&&(this.clear(),this._insert(t),this._previousValue=t)}_setText(t){const e=this.startNode.nextSibling;t=void 0===t?"":t,e===this.endNode.previousSibling&&e.nodeType===Node.TEXT_NODE?e.textContent=t:this._setNode(document.createTextNode(t)),this._previousValue=t}_setTemplateResult(t){const e=this.instance._getTemplate(t);let n;this._previousValue&&this._previousValue.template===e?n=this._previousValue:(n=new N(e,this.instance._partCallback,this.instance._getTemplate),this._setNode(n._clone()),this._previousValue=n),n.update(t.values)}_setIterable(t){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);const e=this._previousValue;let n=0;for(const r of t){let t=e[n];if(void 0===t){let r=this.startNode;if(n>0){r=e[n-1].endNode=document.createTextNode(""),this._insert(r)}t=new T(this.instance,r,this.endNode),e.push(t)}t.setValue(r),n++}if(0===n)this.clear(),this._previousValue=void 0;else if(n<e.length){const t=e[n-1];e.length=n,this.clear(t.endNode.previousSibling),t.endNode=this.endNode}}_setPromise(t){this._previousValue=t,t.then(e=>{this._previousValue===t&&this.setValue(e)})}clear(t=this.startNode){A(this.startNode.parentNode,t.nextSibling,this.endNode)}}const k=(t,e,n)=>{if("attribute"===e.type)return new w(t,n,e.name,e.strings);if("node"===e.type)return new T(t,n,n.nextSibling);throw new Error(`Unknown part type ${e.type}`)};class N{constructor(t,e,n){this._parts=[],this.template=t,this._partCallback=e,this._getTemplate=n}update(t){let e=0;for(const n of this._parts)void 0===n.size?(n.setValue(t[e]),e++):(n.setValue(t,e),e+=n.size)}_clone(){const t=document.importNode(this.template.element.content,!0),e=this.template.parts;if(e.length>0){const n=document.createTreeWalker(t,133,null,!1);let r=-1;for(let t=0;t<e.length;t++){const o=e[t];for(;r<o.index;)r++,n.nextNode();this._parts.push(this._partCallback(this,o,n.currentNode))}}return t}}const O=(t,e,n=null,r=null)=>{let o=e;for(;o!==n;){const e=o.nextSibling;t.insertBefore(o,r),o=e}},A=(t,e,n=null)=>{let r=e;for(;r!==n;){const e=r.nextSibling;t.removeChild(r),r=e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.types=void 0;var r,o,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(r=['\n      <span style="color: ',';">',"</span>\n    "],o=['\n      <span style="color: ',';">',"</span>\n    "],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(o)}}))),a=n(0);var l=1,u=e.types=new Set([Symbol.for("food"),Symbol.for("water"),Symbol.for("character")]),c=function(){function t(e,n,r,o){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=l,l++,!u.has(n))throw new Error("Not a valid Item type.");this.type=n,this.glyph=r,this.color=o,this.cell=e,e.char=this}return i(t,[{key:"template",value:function(){return(0,a.html)(s,this.color,this.glyph)}}]),t}();e.default=c},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*t)+e}function o(t){return t[r(t.length)]}Object.defineProperty(e,"__esModule",{value:!0}),e.rand=r,e.randBool=function(){return o([!0,!1])},e.randItem=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(r=['\n      <span style="color: ',';">',"</span>\n    "],o=['\n      <span style="color: ',';">',"</span>\n    "],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(o)}}))),a=n(0),l=n(2);function u(t){return t.char&&t.char.type===Symbol.for("food")}var c=1,d=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=c,c++,this.glyph=n,this.color=r,this.startAt=o,this.hunger=0,this.diedAt=null,this.cell=e,e.char=this}return i(t,[{key:"age",value:function(t){return(this.diedAt||t)-this.startAt}},{key:"template",value:function(){return(0,a.html)(s,this.color,this.glyph)}},{key:"moveTo",value:function(t,e){var n=e.x,r=e.y;this.cell.char=null;var o=t.grid[r][n];this.cell=o,o.char=this}},{key:"moveToward",value:function(t,e){var n=this.cell.x-e.cell.x,r=this.cell.y-e.cell.y;Math.abs(n)>Math.abs(r)?this.moveTo(t,{x:this.cell.x+(n>0?-1:1),y:this.cell.y}):0!==r&&this.moveTo(t,{x:this.cell.x,y:this.cell.y+(r>0?-1:1)})}},{key:"die",value:function(t){this.glyph="x",this.diedAt=t}},{key:"act",value:function(t){if(!this.diedAt)if(this.hunger++,this.hunger>99)this.die(t.ticks);else if(this.hunger>33)if(t.checkAround(this.cell,u))this.eat(25);else{var e=t.find(u);e&&this.moveToward(t,e.char)}else{var n=(0,l.randItem)(t.cellsAround(this.cell).filter(function(t){return!t.char}));n&&(0,l.randBool)()&&this.moveTo(t,n)}}},{key:"eat",value:function(t){this.hunger=Math.max(this.hunger-t,0)}}]),t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=d(['\n  <form id="characterForm">\n    <label>X:</label>\n    <select id="colInput">\n      ','\n    </select>\n\n    <label>Y:</label>\n    <select id="rowInput">\n      ','\n    </select>\n\n    <label>Color:</label>\n    <select id="colorInput">\n      <option>olive</option>\n      <option>green</option>\n      <option>blue</option>\n      <option>maroon</option>\n      <option>cadetblue</option>\n      <option>brown</option>\n      <option>navy</option>\n      <option>chocolate</option>\n      <option>cornflowerblue</option>\n      <option>darkgoldenrod</option>\n      <option>darkslategray</option>\n      <option>darkolivegreen</option>\n      <option>firebrick</option>\n    </select>\n\n    <button>Create</button>\n  </form>\n'],['\n  <form id="characterForm">\n    <label>X:</label>\n    <select id="colInput">\n      ','\n    </select>\n\n    <label>Y:</label>\n    <select id="rowInput">\n      ','\n    </select>\n\n    <label>Color:</label>\n    <select id="colorInput">\n      <option>olive</option>\n      <option>green</option>\n      <option>blue</option>\n      <option>maroon</option>\n      <option>cadetblue</option>\n      <option>brown</option>\n      <option>navy</option>\n      <option>chocolate</option>\n      <option>cornflowerblue</option>\n      <option>darkgoldenrod</option>\n      <option>darkslategray</option>\n      <option>darkolivegreen</option>\n      <option>firebrick</option>\n    </select>\n\n    <button>Create</button>\n  </form>\n']),s=d(["<option>","</option>"],["<option>","</option>"]),a=n(0),l=n(3),u=(r=l)&&r.__esModule?r:{default:r};function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function d(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var h=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=e,this.board=r,this.render(),e.querySelector("#characterForm").addEventListener("submit",function(t){t.preventDefault(),n.push(new u.default(r.grid[e.querySelector("#rowInput").value][e.querySelector("#colInput").value],"h",e.querySelector("#colorInput").value,r.ticks))})}return o(t,[{key:"render",value:function(){var t,e,n=(t=this.board.height,e=this.board.width,(0,a.html)(i,[].concat(c(Array(e))).map(function(t,e){return(0,a.html)(s,e)}),[].concat(c(Array(t))).map(function(t,e){return(0,a.html)(s,e)})));return(0,a.render)(n,this.node),n}}]),t}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(["\n  <tr>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n  </tr>\n"],["\n  <tr>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n    <td>","</td>\n  </tr>\n"]),i=l(['<button data-character-id="','">Feed</button>'],['<button data-character-id="','">Feed</button>']),s=l(["\n  <table>\n    <thead>\n      <tr>\n        <th>Char</th>\n        <th>X</th>\n        <th>Y</th>\n        <th>Age</th>\n        <th>Hunger</th>\n        <th>Status</th>\n      </tr>\n    </thead>\n    <tbody>","</tbody>\n  </table>\n"],["\n  <table>\n    <thead>\n      <tr>\n        <th>Char</th>\n        <th>X</th>\n        <th>Y</th>\n        <th>Age</th>\n        <th>Hunger</th>\n        <th>Status</th>\n      </tr>\n    </thead>\n    <tbody>","</tbody>\n  </table>\n"]),a=n(0);function l(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var u=function(t,e){return(0,a.html)(s,t.map(function(t){return function(t,e){return(0,a.html)(o,t.template(),t.cell.x,t.cell.y,t.age(e),t.hunger,t.diedAt?"dead":"alive",t.diedAt?"":(0,a.html)(i,t.id))}(t,e)}))},c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=e,this.characters=n,e.addEventListener("click",function(t){if("Feed"===t.target.textContent){var e=Number.parseInt(t.target.dataset.characterId,10);n.find(function(t){return t.id===e}).eat(25)}})}return r(t,[{key:"render",value:function(t){(0,a.render)(u(this.characters,t),this.node)}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=u(["\n  <span>","</span>\n"],["\n  <span>","</span>\n"]),i=u(['\n  <div class="row">',"</div>\n"],['\n  <div class="row">',"</div>\n"]),s=u(['\n  <div class="board">',"</div>\n"],['\n  <div class="board">',"</div>\n"]),a=n(0);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var c=function(t){return(0,a.html)(o,t.char?t.char.template():".")},d=function(t){return(0,a.html)(i,t.map(c))},h=function(t,e){return[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Array(t))).map(function(t,n){return e(n)})},f=function(t,e){return h(e,function(e){return new function t(e,n){l(this,t),this.x=e,this.y=n}(e,t)})},p=function(t,e){return h(t,function(t){return f(t,e)})},v=function(){function t(e,n,r){l(this,t),this.node=e,this.grid=p(n,r),this.ticks=0,this.height=n,this.width=r}return r(t,[{key:"render",value:function(){var t;(0,a.render)((t=this.grid,(0,a.html)(s,t.map(d))),this.node)}},{key:"validCoords",value:function(t,e){return this.grid[e]&&this.grid[e][t]}},{key:"cellsAround",value:function(t){return[this.validCoords(t.x,t.y-1),this.validCoords(t.x-1,t.y),this.validCoords(t.x+1,t.y),this.validCoords(t.x,t.y+1)].filter(function(t){return t})}},{key:"checkAround",value:function(t,e){return this.cellsAround(t).find(e)}},{key:"find",value:function(t){return this.grid.reduce(function(e,n){if(e)return e;var r=n.find(t);return r||void 0},void 0)}}]),t}();e.default=v},function(t,e,n){"use strict";var r,o,i=(r=["ticks: <strong>","</strong>"],o=["ticks: <strong>","</strong>"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(o)}}))),s=n(0),a=d(n(6)),l=d(n(5)),u=d(n(4)),c=d(n(1));function d(t){return t&&t.__esModule?t:{default:t}}var h=[];window.onload=function(){var t=document.getElementById("tickDiv"),e=new a.default(document.getElementById("container"),20,30),n=new u.default(document.getElementById("characterCreator"),h,e),r=new l.default(document.getElementById("characterList"),h);new c.default(e.grid[10][15],Symbol.for("food"),"o","brown");!function o(){var a;e.render(),(0,s.render)((a=e.ticks,(0,s.html)(i,a)),t),r.render(e.ticks),n.render(),h.forEach(function(t){t.act(e)}),e.ticks++,setTimeout(o,400)}()}}]);